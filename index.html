<html>
<title>AI-on-the-Edge Device [SLFork] | Web Installer</title>
<link rel="icon" href="https://raw.githubusercontent.com/jomjol/AI-on-the-edge-device/master/images/icon/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script type="module" src="https://unpkg.com/esp-web-tools@9.0.3/dist/web/install-button.js?module"></script>
<style>
    table {
        border-spacing: 0;
    }

    td {
        padding: 8px;
    }

    .radios li {
        list-style: none;
        line-height: 2em;
    }

    .invisible {
        visibility: hidden;
    }

    input {
        margin: 10px;
    }
</style>

<body style="width:1024px; padding-top: 10px; padding-left: 40px; padding-right: 40px;">
    <table>
        <tr>
            <td>
                <img src=https://raw.githubusercontent.com/slider0007/AI-on-the-edge-device/develop/images/icon/watermeter.svg
                    style="width: 100px; padding-right: 10px;">
            </td>
            <td>
                <h1>AI-on-the-Edge Device [SLFork]</h1>
                <h2>Web Installer / Console</h2>
            </td>
        </tr>
    </table>

    <p>This page provides a web installer and a serial console.</p>

    <p>
        Firmware: <b>v16.0.0-SLFork</b>
    </p>

    <p><b>HowTo</b></p>
    <ul>
        Precondition: Supported device + FAT formated (empty) SD card inserted in SD card slot
        <li>1. Switch the device into bootloader mode (Keeping the "FLASH" button pressed while the "RESET" button gets relesed
            or device gets powered. If there is no "FLASH" button, you need to pull pin labeld "GPIO0" or "IO0" to "GND" signal.)</li>
        <li>2. Select device, connect to the device and install firmware ("Install Device").</li>
        <li>3. Perform a power cycle after installtion is completed.</li>
        <li>4. Install the SD card content and configure the WLAN connection manually 
            <a href="https://jomjol.github.io/AI-on-the-edge-device-docs/Installation/#manual-flashing" target="_blank">(Access Point / Manual Installation)</a>.
        </li>
        <!--<li>4. Reconnect to the device again and configure the Wi-Fi connection ("Connect to Wi-Fi").</li>
        <li>5. After Wi-Fi connection is established, goto to device ("Visit device").</li>
        <li>6. To prepare the SD card content, download firmware zip file from github release page and upload to the device.</li>
        <li>7. Reboot the device, wait until installation is completed and refresh your browser window.<br>
                Note: To view console logs switch back to web installer browser window and open console ("Logs & Console").
        </li>-->
    </ul>

    <p><b>Select your device</b></p>
    <ul class="radios">
        <li>
            <label><input type="radio" name="type" value="esp32cam">ESP32CAM</label>
        </li>
        <!--<li>
            <label><input type="radio" name="type" value="xiao-esp32s3-sense">XIAO ESP32S3 Sense</label>
        </li>
        <li>
            <label><input type="radio" name="type" value="freenove-esp32s3-wroom-n16r8">Freenove ESP32S3 WROOM N16R8</label>
        </li>-->
    </ul>
    <p class="button-row">
        <esp-web-install-button class="invisible"></esp-web-install-button>
    </p>

    <hr>
    <p style="font-size: small;">Installer and Console powered by <a href=https://esphome.github.io/esp-web-tools/ target=_blank>ESP Web Tools</a></p>
</body>

<script>
    document.querySelectorAll('input[name="type"]').forEach(radio =>
    radio.addEventListener("change", () => {
        const button = document.querySelector('esp-web-install-button');
        button.manifest = `./manifest_${radio.value}.json`;
        button.classList.remove('invisible');
    }
    ));
</script>

</html>
